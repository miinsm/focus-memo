<!DOCTYPE html>
<html lang="ko">
   
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메모 작성 - FOCUS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  .category-grid{
    display:flex;
    gap:14px;
    flex-wrap:wrap;
    margin-top:10px;
  }
  .category-item{
  width:140px;
  border:1px solid #e6dfd6;
  border-radius:14px;
  padding:16px 14px;
  background:#fff;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
  transition:.15s ease;
  position: relative;
}

.category-item input{ display:none; }

.category-item:hover{
  transform: translateY(-1px);
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
}

/* ✅ 선택된 카드: 진짜 'active' 느낌 */
.category-item:has(input:checked){
  border-color:#9aaa8a;
  background:#f1f6ef;              /* 연한 초록 배경 */
  box-shadow: 0 0 0 4px rgba(154,170,138,.18);
}

/* ✅ 선택 표시(체크 느낌) - 오른쪽 위 점 */
.category-item:has(input:checked)::after{
  content:"";
  position:absolute;
  top:10px;
  right:10px;
  width:10px;
  height:10px;
  border-radius:50%;
  background:#9aaa8a;
}

</style>
    
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4">
            {% if form.instance.pk %}
                메모 수정
            {% else %}
                메모 작성
            {% endif %}
        </h2>

        <form method="POST">
    {% csrf_token %}

  <!-- 카테고리(아이콘 버튼형) -->
<div class="mb-3">
  <label class="form-label">* 메모 유형 선택</label>

  <div class="category-grid">
    {% for category in categories %}
      <label class="category-item">
        <input type="radio" name="category" value="{{ category.id }}"
               {% if form.instance.category_id == category.id %}checked{% endif %}>
        <span class="icon">{{ category.icon }}</span>
        <span class="name">{{ category.name }}</span>
      </label>
    {% endfor %}
  </div>
</div>


    <!-- 메모 내용 -->
    <div class="mb-3">
        <label class="form-label">메모 내용</label>
        {{ form.content }}
    </div>

    <button type="submit" class="btn btn-success">저장</button>
        </form>

    </div>
</body>
</html>
